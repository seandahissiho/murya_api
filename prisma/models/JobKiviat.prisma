model JobKiviat {
  id                   String              @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  jobId                String              @db.Uuid
  competenciesFamilyId String              @db.Uuid
  level                JobProgressionLevel
  value                Decimal             @db.Decimal(2, 1) // 1.0, 1.5, ..., 5.0 max si tu contrôles côté app
  updatedAt            DateTime            @default(now()) @updatedAt @db.Timestamp(0)
  // Relations
  job                  Job                 @relation(fields: [jobId], references: [id], onDelete: Cascade, onUpdate: Cascade, map: "FK_job_kiviat_job_id")
  competenciesFamily   CompetenciesFamily  @relation(fields: [competenciesFamilyId], references: [id], onDelete: Cascade, onUpdate: Cascade, map: "FK_job_kiviat_family_id")

  @@unique([jobId, competenciesFamilyId, level], map: "UQ_job_kiviat_job_family_level")
  @@index([jobId], map: "IDX_job_kiviat_job_id")
  @@index([competenciesFamilyId], map: "IDX_job_kiviat_family_id")
}
