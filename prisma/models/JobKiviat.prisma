model JobKiviat {
  id                   String              @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  jobId                String              @db.Uuid
  competenciesFamilyId String              @db.Uuid
  level                JobProgressionLevel
  rawScore0to10        Float               @default(0)
  radarScore0to5       Float               @default(0)
  continuous0to10      Float               @default(0)
  masteryAvg0to1       Float               @default(0)
  updatedAt            DateTime            @default(now()) @updatedAt @db.Timestamp(0)
  // Relations
  job                  Job                 @relation(fields: [jobId], references: [id], onDelete: Cascade, onUpdate: Cascade, map: "FK_job_kiviat_job_id")
  competenciesFamily   CompetenciesFamily  @relation(fields: [competenciesFamilyId], references: [id], onDelete: Cascade, onUpdate: Cascade, map: "FK_job_kiviat_family_id")

  @@unique([jobId, competenciesFamilyId, level], map: "UQ_job_kiviat_job_family_level")
  @@index([jobId], map: "IDX_job_kiviat_job_id")
  @@index([competenciesFamilyId], map: "IDX_job_kiviat_family_id")
}
