/// The actual delivered notification is materialized text for audit & immutability.
model Notification {
  id           String               @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  title        String               @db.VarChar(255)
  content      String?              @db.Text
  is_read      Boolean              @default(false) @db.Boolean
  is_important Boolean              @default(false) @db.Boolean
  category     NotificationCategory @default(OTHER)
  createdAt    DateTime             @default(now())
  updatedAt    DateTime             @default(now()) @updatedAt

  notificationRecipients NotificationRecipient[]
}

model NotificationTemplate {
  id        String               @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  key       String               @unique @db.VarChar(255) // e.g. "USER.WELCOME"
  category  NotificationCategory @default(OTHER)
  type      NotificationType     @default(INFO)
  createdAt DateTime             @default(now())
  updatedAt DateTime             @default(now()) @updatedAt
}
