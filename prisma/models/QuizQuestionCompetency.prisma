model QuizQuestionCompetency {
  questionId   String       @db.Uuid
  competencyId String       @db.Uuid
  /// How important this competency is in this question
  /// Example:
  /// - If the question has 10 points and you have 2 competencies with weight 1 and 2,
  ///   you can distribute 10 points proportionally (3.33 vs 6.66)
  weight       Int          @default(1)
  /// Optional explicit max points for this competency *for this question*.
  /// If you set it, you don't need to derive from QuizQuestion.points.
  maxPoints    Int?
  createdAt    DateTime     @default(now()) @db.Timestamp(0)
  updatedAt    DateTime     @default(now()) @updatedAt @db.Timestamp(0)
  question     QuizQuestion @relation(fields: [questionId], references: [id], onUpdate: Cascade, onDelete: Cascade)
  competency   Competency   @relation(fields: [competencyId], references: [id], onUpdate: Cascade, onDelete: Cascade)

  @@id([questionId, competencyId])
  @@index([competencyId], map: "idx_qqc_competency")
}
